syntax = "proto3";
import "common.proto";
package messenger;

option go_package = "satweave/sat-node/task-manager";

service TaskManagerService {
  // Deploy a task to the task manager.
  rpc DeployTask(DeployTaskRequest) returns (NilResponse) {}
}

message ExecuteTask {
  string cls_name = 1;
  string input_endpoints = 2;
  string output_endpoints = 3;
  File resources = 4;
  File task_file = 5;
}

message Task {
  string cls_name = 1;
  int32 currency = 2;
  repeated string input_tasks = 3;
  repeated File resources = 4;
  File task_file = 5;
  string locale = 6;
}

message File {
  string name = 1;
  string content = 2;
}

message DeployTaskRequest {
  ExecuteTask exec_task = 1;
}