syntax = "proto3";

package messenger;

option go_package = "satweave/sat-node/worker";

service Worker {
  // 客户端提交一个
  rpc SubmitJob (SubJobRequest) returns (SubmitJobReply) {}

}

// 定义一个离线任务
message Job {
  // 任务的类型, 目前只有 yolov5
  string task_type = 3;
  // TODO(qiu): 任务的参数
}

message SubJobRequest {
  // 客户端的IP, 用于返回结果
  string client_ip = 1;
  // task_id 由客户端生成，是一个UUID
  string task_id = 2;
}

// 仅是否成果 Submit 任务，任务结果是异步返回的
message SubmitJobReply {
  bool success = 1;
}

